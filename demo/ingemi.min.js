var d;Ingemi=function(b,a){if(!b||"DIV"!=b.nodeName)throw Error("You must specify the div where Ingemi will render");a=a||{};this.j=b;this.h=a.upscale||1;this.c=a.rangeLeft||1;this.d=a.rangeTop||1;this.offsetLeft=a.offsetLeft||0;this.offsetTop=a.offsetTop||0;this.f=a.maxIteration||255;this.e=a.blockSize||2500;this.n="function"===typeof a.onrender?a.onrender:null;this.i=!1};d=Ingemi.prototype;d.t=function(){this.v();this.z()};
d.v=function(){this.canvas=document.createElement("canvas");this.j.appendChild(this.canvas);this.m=this.canvas.getContext("2d");this.clientWidth=this.j.clientWidth;this.clientHeight=this.j.clientHeight;this.canvas.style.width=this.clientWidth+"px";this.canvas.style.height=this.clientHeight+"px"};
d.z=function(){this.width=Math.floor(this.clientWidth/this.h);this.height=Math.floor(this.clientHeight/this.h);this.canvas.width=this.width;this.canvas.height=this.height;this.b=this.m.createImageData(this.width,this.height);this.l=this.width*this.height};d.o=function(){this.i||(this.i=!0,this.a=this.g=this.k=0,this.p())};d.p=function(){var b=this.e+this.a>this.l?this.l-this.a:this.e,a;for(a=0;a<b;a+=1){var c=this.a+a;this.A(c%this.width,Math.floor(c/this.width))}};
d.A=function(b,a){var c=this;setTimeout(function(){c.B(4*c.s(b,a),c.r(b,a));c.C()},0)};d.s=function(b,a){return a*this.width+b};d.r=function(b,a){var c,h;c=3.5*this.c*b/this.width-2.5+this.offsetLeft;h=2*this.d*a/this.height-1+this.offsetTop;if(this.u(c,h))return this.f;for(var e=0,f=0,g=0,i;4>e*e+f*f&&g<this.f;)i=e*e-f*f+c,f=2*e*f+h,e=i,g+=1;return g};d.u=function(b,a){var c=Math.pow(b-0.25,2)+a*a;return b<=Math.sqrt(c)-2*c+0.25};
d.B=function(b,a){255<this.f&&(a=Math.floor(255*(a/this.f)));this.b.data[b]=a;this.b.data[b+1]=a;this.b.data[b+2]=a;this.b.data[b+3]=255};d.C=function(){this.k+=1;this.g+=1;this.k==this.l?this.q():this.g===this.e&&this.w()};d.w=function(){this.a+=this.e;this.g=0;this.p()};d.q=function(){this.m.putImageData(this.b,0,0);this.i=!1;this.n&&this.n()};
d.zoom=function(b,a){var b=b/this.h,a=a/this.h,c=a/this.height-0.5;this.offsetLeft+=3.5*(b/this.width-0.5)*this.c;this.offsetTop+=2*c*this.d;this.c/=2;this.d/=2;this.offsetLeft+=1.75*this.c;this.offsetTop+=this.d;this.o()};window.Ingemi=Ingemi;Ingemi.prototype.init=Ingemi.prototype.t;Ingemi.prototype.render=Ingemi.prototype.o;Ingemi.prototype.zoom=Ingemi.prototype.zoom;
