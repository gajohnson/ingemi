var c;Ingemi=function(b,a){if(!b||"DIV"!=b.nodeName)throw Error("You must specify the div where Ingemi will render");a=a||{};this.k=b;this.e=a.upscale||1;this.a=a.rangeLeft||1;this.b=a.rangeTop||1;this.offsetLeft=a.offsetLeft||0;this.offsetTop=a.offsetTop||0;this.g=a.maxIteration||255;this.f=a.blockSize||2500;this.p="function"===typeof a.onrender?a.onrender:null;this.i=!1;this.j=3.5;this.o=2};c=Ingemi.prototype;c.w=function(){this.A();this.s()};
c.A=function(){this.canvas=document.createElement("canvas");this.k.appendChild(this.canvas);this.n=this.canvas.getContext("2d");this.clientWidth=this.k.clientWidth;this.clientHeight=this.k.clientHeight;this.canvas.style.width=this.clientWidth+"px";this.canvas.style.height=this.clientHeight+"px"};
c.s=function(){this.width=Math.floor(this.clientWidth/this.e);this.height=Math.floor(this.clientHeight/this.e);this.canvas.width=this.width;this.canvas.height=this.height;this.d=this.n.createImageData(this.width,this.height);this.m=this.width*this.height};c.q=function(){this.i||(this.i=!0,this.c=this.h=this.l=0,this.r())};c.r=function(){var b=this.f+this.c>this.m?this.m-this.c:this.f,a;for(a=0;a<b;a+=1){var d=this.c+a;this.C(d%this.width,Math.floor(d/this.width))}};
c.C=function(b,a){var d=this;setTimeout(function(){d.D(4*d.v(b,a),d.u(b,a));d.F()},0)};c.v=function(b,a){return a*this.width+b};c.u=function(b,a){var d,h;d=this.a*this.j*b/this.width-2.5+this.offsetLeft;h=this.b*this.o*a/this.height-1+this.offsetTop;if(this.z(d,h))return this.g;for(var e=0,f=0,g=0,i;4>e*e+f*f&&g<this.g;)i=e*e-f*f+d,f=2*e*f+h,e=i,g+=1;return g};c.z=function(b,a){var d=Math.pow(b-0.25,2)+a*a;return b<=Math.sqrt(d)-2*d+0.25};
c.D=function(b,a){255<this.g&&(a=Math.floor(255*(a/this.g)));this.d.data[b]=a;this.d.data[b+1]=a;this.d.data[b+2]=a;this.d.data[b+3]=255};c.F=function(){this.l+=1;this.h+=1;this.l==this.m?this.t():this.h===this.f&&this.B()};c.B=function(){this.c+=this.f;this.h=0;this.r()};c.t=function(){this.n.putImageData(this.d,0,0);this.i=!1;this.p&&this.p()};
c.zoom=function(b,a,d){b/=this.e;a/=this.e;a=a/this.height-0.5;this.offsetLeft+=(b/this.width-0.5)*this.a*this.j;this.offsetTop+=a*this.b*this.o;this.a/=d;this.b/=d;this.offsetLeft+=this.a*this.j/2;this.offsetTop+=this.b;this.q()};c.reset=function(){this.b=this.a=1;this.offsetTop=this.offsetLeft=0};c.scale=function(b){this.e=b;this.s()};window.Ingemi=Ingemi;Ingemi.prototype.init=Ingemi.prototype.w;Ingemi.prototype.render=Ingemi.prototype.q;Ingemi.prototype.zoom=Ingemi.prototype.zoom;
Ingemi.prototype.reset=Ingemi.prototype.reset;Ingemi.prototype.scale=Ingemi.prototype.scale;
